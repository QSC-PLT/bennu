define(["parse"],function(a){function e(b,f){var c=[],d;for(d in b)1===d.length&&c.push(a.c(a.next(a.d(d),e(b[d],f+d))));b.hasOwnProperty("")&&c.push(a.b(f));return a.e.apply(void 0,c)}function h(b,a){Array.prototype.reduce.call(a,i,b)[""]=null;return b}function i(b,a){return b[a]=b[a]||{}}function g(b){return a.a(function(a){return b.toString()===a.toString()})}var j=Array.prototype.map,c=RegExp.prototype.test,k=a.a(c.bind(/^.$/)),l=a.a(c.bind(/^[a-z]$/i)),m=a.a(c.bind(/^\s$/i)),c=a.a(c.bind(/^[0-9]$/i));
return{character:g,string:function(b){return j.call(b,g).concat(a.b(b)).reduce(a.next)},trie:function(a){return e(a.reduce(h,{}),"")},anyChar:k,letter:l,space:m,digit:c}});
