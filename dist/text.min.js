define(["parse/parse"],function(c){var j=Function.prototype.call.bind(Array.prototype.reduce),m=Function.prototype.call.bind(Array.prototype.reduceRight),k=function(b){return function(a,d){return new c.ExpectError(a,b,null===d?"end of input":d)}},g=function(b,a,d,e,f){c.ExpectError.call(this,b,e,f);this.string=a;this.index=d};g.prototype=new c.ExpectError;g.prototype.constructor=g;Object.defineProperty(g.prototype,"errorMessage",{get:function(){return"In string:'"+this.string+"' at index:"+this.index+
", Expected:"+this.expected+" Found:"+(this.found?this.found:"end of input")}});var i,n=function(b){var a=b.valueOf();return function(b){return a===b.valueOf()}};i=function(b,a){return c.token(n(b),a)};var l=function(b){return i(b,k(b))},p=function(b,a,d,e){return c.next(i(a,function(b,c){return new g(b,e,d,a,c)}),b)},q=function(b,a){b[a]=b[a]||{};return b[a]},r=function(b,a){j(a,q,b)[""]=null;return b},s=function a(d,e){return c.choice.apply(void 0,Object.keys(d).sort().reverse().map(function(f){return 0===
f.length?c.always(e):c.attempt(c.next(l(f),a(d[f],e+f)))}))},h=function(a,d){return c.token(RegExp.prototype.test.bind(a),k(d))},t=c.Parser("Any Character",h(/^.$/,"any character")),u=c.Parser("Any Letter",h(/^[a-z]$/i,"any letter character")),v=c.Parser("Any Whitespace",h(/^\s$/i,"any space character")),w=c.Parser("Any Digit",h(/^[0-9]$/i,"any digit character"));return{character:l,string:function(a){return c.attempt(m(a,p,c.always(a)))},trie:function(a){return c.attempt(s(j(a,r,{}),""))},match:h,
anyChar:t,letter:u,space:v,digit:w}});
