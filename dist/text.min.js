define(function(t,b){var f,a,k,l,m,d;a=t("parse/parse");var n=a.always,g=a.attempt,u=a.choicea,h=a.ExpectError,p=a.next;d=a.Parser;var q=a.token,r=Function.prototype.call.bind(Array.prototype.reduce),v=Function.prototype.call.bind(Array.prototype.reduceRight),s=function(i){return function(c,a){return new h(c,i,null===a?"end of input":a)}},e=function(a,c,w,b,x){h.call(this,a,b,x);this.string=c;this.index=w};e.prototype=new h;e.prototype.constructor=e;Object.defineProperty(e.prototype,"errorMessage",
{get:function(){return"In string:'"+this.string+"' at index:"+this.index+", Expected:"+this.expected+" Found:"+(this.found?this.found:"end of input")}});var j;j=function(a,c){var b=a.valueOf();return q(function(c){return b===c.valueOf()},c)};f=function(a){return j(a,s(a))};var y=function(a,c,b,d){return p(j(c,function(a,i){return new e(a,d,b,c,i)}),a)},z=function(a,c){a[c]=a[c]||{};return a[c]},A=function(a,c){r(c,z,a)[""]=null;return a},B=function c(a,b){return u(Object.keys(a).sort().reverse().map(function(d){return 0===
d.length?n(b):g(p(f(d),c(a[d],b+d)))}))};a=function(a,b){return q(RegExp.prototype.test.bind(a),s(b))};k=d("Any Character",a(/^.$/,"any character"));l=d("Any Letter",a(/^[a-z]$/i,"any letter character"));m=d("Any Whitespace",a(/^\s$/i,"any space character"));d=d("Any Digit",a(/^[0-9]$/i,"any digit character"));b.character=f;b.string=function(a){return g(v(a,y,n(a)))};b.trie=function(a){return g(B(r(a,A,{}),""))};b.match=a;b.anyChar=k;b.letter=l;b.space=m;b.digit=d});
