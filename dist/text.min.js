define(["require","exports","parse/parse"],function(n,d,c){var g,p,q,e,r=c.always,h=c.attempt,t=c.bind,u=c.either,i=c.ExpectError,v=c.next;e=c.Parser;var j=c.token,w=Function.prototype.call.bind(Array.prototype.join),x=Function.prototype.call.bind(Array.prototype.map),k=Function.prototype.call.bind(Array.prototype.reduce),y=Function.prototype.call.bind(Array.prototype.reduceRight),l=function(a){return function(b,c){return new i(b,a,null===c?"end of input":c)}},f=function(a,b,c,z,d){i.call(this,a,
z,d);this.string=b;this.index=c};f.prototype=new i;f.prototype.constructor=f;Object.defineProperty(f.prototype,"errorMessage",{get:function(){return"In string:'"+this.string+"' at index:"+this.index+", Expected:"+this.expected+" Found:"+(this.found?this.found:"end of input")}});var m;m=function(a,b){var c=a.valueOf();return j(function(a){return c===a.valueOf()},b)};g=function(a){var b=x(a,function(a){return a.valueOf()}),a=j(function(a){return-1!==b.indexOf(a.valueOf())},l(w(a," or ")));return a};
var A=function(a,b,c,d){return v(m(b,function(a,e){return new f(a,d,c,b,e)}),a)};var B=function(a,b){a[b]=a[b]||{};return a[b]},C=function(a,b){k(b,B,a)[""]=b;return a},s=function(a){var b=Object.keys(a),c=k(b,function(c,b){b.length&&(c[b]=s(a[b]));return c},{}),b=h(t(g(b),function(a){return c[a]}));return a.hasOwnProperty("")?u(b,r(a[""])):b};c=function(a,b){return j(RegExp.prototype.test.bind(a),l(b))};n=e("Any Character",c(/^.$/,"any character"));p=e("Any Letter",c(/^[a-z]$/i,"any letter character"));
q=e("Any Whitespace",c(/^\s$/i,"any space character"));e=e("Any Digit",c(/^[0-9]$/i,"any digit character"));d.character=function(a){return m(a,l(a))};d.characters=g;d.string=function(a){return h(y(a,A,r(a)))};d.trie=function(a){return h(s(k(a,C,{}),""))};d.match=c;d.anyChar=n;d.letter=p;d.space=q;d.digit=e});
