("undefined"!==typeof define?define:function(q){parse=q()})(function(){function q(a,b){return t(f(a,b))}function t(a){return function(b,e,k,d,c){k=b.a;return(d=b.input)?(d=d.d,a(d)?e(d,b.next(d)):c(new r(k,"token:'"+d+"'"))):c(new r(k,"end of input"))}}function F(a,b){return c(b,f(l,G(u(a,b))))}function W(a,b){return m(b)}function H(a,b){return 0>=a?n:I(c(b,f(l,H(a-1,b))))}function J(a,b){return v(K(a,b))}function K(a,b){return 0>=a?n:c(b,f(l,K(a-1,b)))}function G(a){return v(w(a))}function X(){throw Error("Many parser applied to a parser that accepts an empty string");
}function Y(a,b){return c(b,f(l,a))}function v(a){return c(a,function(a){return m(L.n(a))})}function I(a){return s(M(a),n)}function l(a,b){return c(a,function(a){return m(L.j(b,a))})}function s(a,b){return function(e,k,d,c,f){return i(a,[e,k,d,c,function(a){return i(b,[e,k,d,c,function(b){return f(new x(a,b))}])}])}}function u(a,b){return c(a,h(b))}function M(a){return function(b,e,k,d,c){return i(a,[b,e,c,d,c])}}function N(a){return function(b,e,c,d){return d(a(b),b)}}function O(a,b){return c(a,
Z.bind(b,void 0))}function c(a,b){return function(e,c,d,f,g){return i(a,[e,function(a,e){return i(b(a),[e,c,d,c,d])},d,function(a,e){return i(b(a),[e,c,d,f,g])},g])}}function m(a){return function(b,e,c,d){return d(a,b)}}function P(a,b){return Q(a,new p(b,j(1,1)))}function R(a,b){return function(e,c){for(var d=e(c,a,b,a,b);d&&d.b;)d=d[0].apply(void 0,d[1]);return d()}}function y(a){var b;return b=a(function(){return b.apply(this,arguments)})}function S(a,b){return Object.defineProperty(b,"displayName",
{value:a,writable:!1})}function z(a,b){g.call(this,a,["Expected "+(b||"")])}function r(a,b){g.call(this,a,["Unexpected "+(b||"")])}function A(a){g.call(this,a,["Error"])}function x(a,b){this.k=a;this.l=b;g.call(this,a.a)}function g(a,b){this.h=b;this.a=a}function p(a,b){this.input=a;this.a=b}function $(){return"{line: "+this.e+" col: "+this.i+"}"}function i(a,b){var e=[a,b];e.b=!0;return e}function T(a){return void 0===a||0===a.length?null:new B(a,0,a.length)}function B(a,b,e){this.g=a;this.c=b;this.length=
e;this.d=this.g[this.c]}function U(a,b){return a===b}function V(a){return a}function f(a){return 1===arguments.length?a:a.bind.apply(a,arguments)}var aa=Array.prototype.join,ba=Array.prototype.map,ca=Array.prototype.reduce,da=Array.prototype.reduceRight,Z=Function.prototype.apply,h=f(f,V),L={j:function(a,b){return{first:a,rest:b}},n:function(a){for(var b=[];null!==a;a=a.f)b.push(a.d);return b}};B.prototype.f=function(){return this.c+1===this.length?null:new B(this.g,this.c+1,this.length)};var j;j=
function(a,b){return Object.freeze({line:a,column:b,toString:$})};j.m=function(a,b){return"\n"===b?j(a.e+1,1):j(a.e,a.i+1)};p.prototype.next=function(a){return this.b||(this.b=new p(this.input.f(),j.m(this.a,a)))};g.prototype=Error();Object.defineProperties(g.prototype,{message:{get:function(){var a=this.o;return"At position:"+this.a+" ["+(a?aa.call(a,", "):"")+"]"}},messages:{get:function(){return this.h}}});x.prototype=new g;Object.defineProperty(x.prototype,"messages",{get:function(){return[this.k.p,
this.l.message]}});A.prototype=new g;r.prototype=new g;z.prototype=new g;var Q=R(h,function(a){return function(){throw a;}}),ea=R(h(h(!0)),h(h(!1))),C=h(function(a,b,e,c,d){return d(new A(a.a))}),fa=h(function(a,b,e,c,d){return!a.input?c(null,a):d(new z(a.a,"end of input"))}),ga=f(N,V),n=m(null),D;D=function(){return da.call(arguments,Y,n)};var w;w=function(a){function b(b,c,d,f,g){return i(a,[b,c,d,X,g])}return y(function(a){return I(c(b,f(l,a)))})};var E;E=function(a,b,e){return b<a?C:c(J(a,e),
function(){return c(H(b-a,e),function(){})})};var ha=f(E,0,1),ia=t(h(!0));return{ParseError:g,UnknownError:A,UnexpectError:r,ExpectError:z,InputState:p,Position:j,Parser:S,RecParser:y,NamedRecParser:function(a,b){return S(a,y(b))},runParser:Q,runStream:P,run:function(a,b){return P(a,T(b))},test:function(a,b){return ea(a,new p(T(b),j(1,1)))},always:m,never:C,bind:c,binda:O,eof:fa,extract:N,examine:ga,attempt:M,lookahead:function(a){return function(b,c,f,d,g){return i(a,[b,function(a){return d(a,b)},
f,d,g])}},next:u,either:s,sequence:D,many:G,many1:function(a){return v(c(a,f(l,w(a))))},times:J,optional:ha,betweenTimes:E,between:function(a,b,c){return O(D(a,c,b),W)},sepBy1:F,sepBy:function(a,b){return s(F(a,b),n)},choice:function(){return 0===arguments.length?C:ca.call(arguments,s)},token:t,anyToken:ia,character:function(a,b){return q(b||U,a)},string:function(a,b){return ba.call(a,f(q,b||U)).concat(m(a)).reduce(u)}}});
