("undefined"!==typeof define?define:function(q){parse=q()})(function(){function q(a){return function(){throw a;}}function x(a){return i(g(G,a))}function i(a){return function(b,d,e,c,h){e=b.input;b=b.c;c=e[0];return void 0===c?h(new r(b,"end of input")):a(c)?d(c,y(z.call(e,1),j.e(b,c))):h(new r(b,"token:'"+c+"'"))}}function A(a,b){return 0>=a?k([]):function(d,e,c,h,f){return b(d,function(d,h){function g(a,b){return e(n.apply(d,a),b)}return A(a-1,b)(h,g,c,g,f)},c,function(b,c){for(var e=[],d=0;d<a;++d)e[d]=
b;return h(e,c)},f)}}function H(){throw Error("Many parser applied to a parser that accepts an empty string");}function t(a,b){return function(d,e,c,h,g){return a(d,e,c,h,function(a){return b(d,e,c,h,function(b){return g(f.f(a,b))})})}}function B(a,b){return l(a,p(b))}function C(a){return function(b,d,e,c){return c(a(b),b)}}function l(a,b){return function(d,e,c,h,f){return a(d,function(a,d){return b(a)(d,e,c,e,c)},c,function(a,d){return b(a)(d,e,c,h,f)},f)}}function k(a){return function(b,d,e,c){return c(a,
b)}}function u(a,b){f.call(this,a,["Expected "+(b||"")])}function r(a,b){f.call(this,a,["Unexpected "+(b||"")])}function v(a){f.call(this,a,["Error"])}function f(a,b){this.a=b;this.c=a;this.message="At position:"+a+" ["+(b?I.call(b,", "):"")+"]"}function D(a,b){this.b=a;this.d=b}function y(a,b){return Object.create(Object.prototype,{input:{value:a,writable:!1},pos:{value:b,writable:!1}})}function G(a,b){return a===b}function p(a){return g(E,a)}function E(a){return a}function g(a){return Function.prototype.bind.apply(a,
[void 0].concat(z.call(arguments,1)))}var n=Array.prototype.concat,I=Array.prototype.join,J=Array.prototype.map,z=Array.prototype.slice,K=Array.prototype.reduce,m=RegExp.prototype.test,j;D.prototype.toString=function(){return"{line: "+this.b+" col: "+this.d+"}"};j=function(a,b){return Object.freeze(new D(a,b))};j.e=function(a,b){return"\n"===b?j(a.b+1,1):j(a.b,a.d+1)};f.prototype=Error();f.f=function(a,b){return new f(a.c,a.a?n.apply(a.a,b.a):b.a)};v.prototype=new f;r.prototype=new f;u.prototype=
new f;var F=p(function(a,b,d,e,c){return c(new v(a),a)}),L=p(function(a,b,d,e,c){return!1==a.input?e(null,a):c(new u(a.c,"end of input"))}),M=g(C,E),s;s=function(a){function b(b,e,c,f,g){return a(b,e,c,H,g)}return t(l(b,function(a){return l(s(b),function(b){return k(n.apply([a],b))})}),k([]))};var N=g(i,m.bind(/^.$/)),O=g(i,m.bind(/^[a-z]$/i)),P=g(i,m.bind(/^\s$/i)),m=g(i,m.bind(/^[0-9]$/i)),w;w=function(a,b){return a(b,p,q,p,q)};return{ParseError:f,UnknownError:v,UnexpectError:r,ExpectError:u,always:k,
never:F,bind:l,eof:L,extract:C,examine:M,attempt:function(a){return function(b,d,e,c,f){return a(b,d,f,c,f)}},lookahead:function(a){return function(b,d,e,c,f){return a(b,function(a){return c(a,b)},e,c,f)}},next:B,either:t,many:s,many1:function(a){return l(a,function(b){return l(s(a),function(a){return k(n.apply([b],a))})})},times:A,choice:function(){return 0===arguments.length?F:K.call(arguments,t)},token:i,"char":x,string:function(a){return n.call(J.call(a,x),k(a)).reduce(B)},anyChar:N,letter:O,
space:P,digit:m,runParser:w,run:function(a,b){return w(a,y(b,j(1,1)))()}}});
