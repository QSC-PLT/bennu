("undefined"!==typeof define?define:function(h){parse=h()})(["stream"],function(h){function E(a,b){return u(c(a,b))}function u(a){return function(b,e,l,d,c){l=b.a;return(d=b.input)?(d=h.k(d),a(d)?e(d,b.next(d)):c(new r(l,"token:'"+d+"'"))):c(new r(l,"end of input"))}}function F(a,b){return f(b,c(n,s(v(a,b))))}function S(a,b){return m(b)}function G(a,b){return 0>=a?p:H(f(b,c(n,G(a-1,b))))}function w(a,b){return 0>=a?p:f(b,c(n,w(a-1,b)))}function T(){throw Error("Many parser applied to a parser that accepts an empty string");
}function U(a,b){return f(b,c(I,a))}function H(a){return t(J(a),p)}function I(a,b){return f(a,function(a){return m(h.concat(b,a))})}function n(a,b){return f(a,function(a){return m(h.j(b,a))})}function t(a,b){return function(e,l,d,c,f){return j(a,[e,l,d,c,function(a){return j(b,[e,l,d,c,function(b){return f(new x(a,b))}])}])}}function v(a,b){return f(a,i(b))}function J(a){return function(b,e,l,d,c){return j(a,[b,e,c,d,c])}}function K(a){return function(b,e,c,d){return d(a(b),b)}}function L(a,b){return f(a,
V.bind(b,void 0))}function f(a,b){return function(e,c,d,f,g){return j(a,[e,function(a,e){return j(b(a),[e,c,d,c,d])},d,function(a,e){return j(b(a),[e,c,d,f,g])},g])}}function m(a){return function(b,e,c,d){return d(a,b)}}function M(a,b){return N(a,new q(b,k(1,1)))}function O(a,b){return function(e,c){for(var d=e(c,a,b,a,b);d&&d.b;)d=d[0].apply(void 0,d[1]);return d()}}function y(a){var b;return b=a(function(){return b.apply(this,arguments)})}function P(a,b){return Object.defineProperty(b,"displayName",
{value:a,writable:!1})}function z(a,b){g.call(this,a,["Expected "+(b||"")])}function r(a,b){g.call(this,a,["Unexpected "+(b||"")])}function A(a){g.call(this,a,["Error"])}function x(a,b){this.f=a;this.g=b;g.call(this,a.a)}function g(a,b){this.d=b;this.a=a}function q(a,b){this.input=a;this.a=b}function W(){return"{line: "+this.c+" col: "+this.e+"}"}function j(a,b){var e=[a,b];e.b=!0;return e}function Q(a,b){return a===b}function R(a){return a}function c(a){return 1===arguments.length?a:a.bind.apply(a,
arguments)}var X=Array.prototype.join,Y=Array.prototype.map,Z=Array.prototype.reduce,$=Array.prototype.reduceRight,V=Function.prototype.apply,i=c(c,R),k;k=function(a,b){return Object.freeze({line:a,column:b,toString:W})};k.i=function(a,b){return"\n"===b?k(a.c+1,1):k(a.c,a.e+1)};q.prototype.next=function(a){return this.b||(this.b=new q(h.n(this.input),k.i(this.a,a)))};g.prototype=Error();Object.defineProperties(g.prototype,{message:{get:function(){var a=this.l;return"At position:"+this.a+" ["+(a?X.call(a,
", "):"")+"]"}},messages:{get:function(){return this.d}}});x.prototype=new g;Object.defineProperty(x.prototype,"messages",{get:function(){return[this.f.m,this.g.message]}});A.prototype=new g;r.prototype=new g;z.prototype=new g;var N=O(i,function(a){return function(){throw a;}}),aa=O(i(i(!0)),i(i(!1))),B=i(function(a,b,e,c,d){return d(new A(a.a))}),ba=i(function(a,b,e,c,d){return!a.input?c(null,a):d(new z(a.a,"end of input"))}),ca=c(K,R),p=m(h.end),C;C=function(){return $.call(arguments,U,p)};var s;
s=function(a){function b(b,c,d,f,g){return j(a,[b,c,d,T,g])}return y(function(a){return H(f(b,c(n,a)))})};var D;D=function(a,b,e){return b<a?B:f(w(a,e),c(I,G(b-a,e)))};var da=c(D,0,1),ea=u(i(!0));return{ParseError:g,UnknownError:A,UnexpectError:r,ExpectError:z,InputState:q,Position:k,Parser:P,RecParser:y,NamedRecParser:function(a,b){return P(a,y(b))},runParser:N,runStream:M,run:function(a,b){return M(a,h.h(b))},test:function(a,b){var c=h.h(b);return aa(a,new q(c,k(1,1)))},always:m,never:B,bind:f,
binda:L,eof:ba,extract:K,examine:ca,attempt:J,lookahead:function(a){return function(b,c,f,d,g){return j(a,[b,function(a){return d(a,b)},f,d,g])}},next:v,either:t,sequence:C,many:s,many1:function(a){return f(a,c(n,s(a)))},times:w,optional:da,betweenTimes:D,between:function(a,b,c){return L(C(a,c,b),S)},sepBy1:F,sepBy:function(a,b){return t(F(a,b),p)},choice:function(){return 0===arguments.length?B:Z.call(arguments,t)},token:u,anyToken:ea,character:function(a,b){return E(b||Q,a)},string:function(a,b){return Y.call(a,
c(E,b||Q)).concat(m(a)).reduce(v)}}});
