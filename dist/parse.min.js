("undefined"!==typeof define?define:function(i){parse=i()})(["stream"],function(i){function F(a,b){return v(f(a,b))}function v(a){return function(b,d,e,c,p){e=b.a;return(c=b.input)?(c=i.k(c),a(c)?d(c,b.next(c)):p(new s(e,"token:'"+c+"'"))):p(new s(e,"end of input"))}}function G(a,b){return g(b,f(m,t(w(a,b))))}function S(a,b){return n(b)}function H(a,b){return 0>=a?q:I(g(b,f(m,H(a-1,b))))}function x(a,b){return 0>=a?q:g(b,f(m,x(a-1,b)))}function T(){throw Error("Many parser applied to a parser that accepts an empty string");
}function U(a,b){return g(b,f(m,a))}function I(a){return u(J(a),q)}function m(a,b){return g(a,function(a){return n(i.j(b,a))})}function u(a,b){return function(d,e,c,p,f){return k(a,[d,e,c,p,function(a){return k(b,[d,e,c,p,function(b){return f(new y(a,b))}])}])}}function w(a,b){return g(a,j(b))}function J(a){return function(b,d,e,c,f){return k(a,[b,d,f,c,f])}}function K(a){return function(b,d,e,c){return c(a(b),b)}}function L(a,b){return g(a,V.bind(b,void 0))}function g(a,b){return function(d,e,c,
f,g){return k(a,[d,function(a,d){return k(b(a),[d,e,c,e,c])},c,function(a,d){return k(b(a),[d,e,c,f,g])},g])}}function n(a){return function(b,d,e,c){return c(a,b)}}function M(a,b){return N(a,new r(b,l(1,1)))}function O(a,b){return function(d,e){for(var c=d(e,a,b,a,b);c&&c.b;)c=c[0].apply(void 0,c[1]);return c()}}function z(a){var b;return b=a(function(){return b.apply(this,arguments)})}function P(a,b){return Object.defineProperty(b,"displayName",{value:a,writable:!1})}function A(a,b){h.call(this,
a,["Expected "+(b||"")])}function s(a,b){h.call(this,a,["Unexpected "+(b||"")])}function B(a){h.call(this,a,["Error"])}function y(a,b){this.f=a;this.g=b;h.call(this,a.a)}function h(a,b){this.d=b;this.a=a}function r(a,b){this.input=a;this.a=b}function W(){return"{line: "+this.c+" col: "+this.e+"}"}function k(a,b){var d=[a,b];d.b=!0;return d}function Q(a,b){return a===b}function R(a){return a}function f(a){return 1===arguments.length?a:a.bind.apply(a,arguments)}var X=Array.prototype.join,Y=Array.prototype.map,
Z=Array.prototype.reduce,$=Array.prototype.reduceRight,V=Function.prototype.apply,j=f(f,R),l;l=function(a,b){return Object.freeze({line:a,column:b,toString:W})};l.i=function(a,b){return"\n"===b?l(a.c+1,1):l(a.c,a.e+1)};r.prototype.next=function(a){return this.b||(this.b=new r(i.n(this.input),l.i(this.a,a)))};h.prototype=Error();Object.defineProperties(h.prototype,{message:{get:function(){var a=this.l;return"At position:"+this.a+" ["+(a?X.call(a,", "):"")+"]"}},messages:{get:function(){return this.d}}});
y.prototype=new h;Object.defineProperty(y.prototype,"messages",{get:function(){return[this.f.m,this.g.message]}});B.prototype=new h;s.prototype=new h;A.prototype=new h;var N=O(j,function(a){return function(){throw a;}}),aa=O(j(j(!0)),j(j(!1))),C=j(function(a,b,d,e,c){return c(new B(a.a))}),ba=j(function(a,b,d,e,c){return!a.input?e(null,a):c(new A(a.a,"end of input"))}),ca=f(K,R),q=n(i.end),D;D=function(){return $.call(arguments,U,q)};var t;t=function(a){function b(b,e,c,f,g){return k(a,[b,e,c,T,g])}
return z(function(a){return I(g(b,f(m,a)))})};var E;E=function(a,b,d){return b<a?C:g(x(a,d),function(e){return g(H(b-a,d),function(a){return n(i.concat(e,a))})})};var da=f(E,0,1),ea=v(j(!0));return{ParseError:h,UnknownError:B,UnexpectError:s,ExpectError:A,InputState:r,Position:l,Parser:P,RecParser:z,NamedRecParser:function(a,b){return P(a,z(b))},runParser:N,runStream:M,run:function(a,b){return M(a,i.h(b))},test:function(a,b){var d=i.h(b);return aa(a,new r(d,l(1,1)))},always:n,never:C,bind:g,binda:L,
eof:ba,extract:K,examine:ca,attempt:J,lookahead:function(a){return function(b,d,e,c,f){return k(a,[b,function(a){return c(a,b)},e,c,f])}},next:w,either:u,sequence:D,many:t,many1:function(a){return g(a,f(m,t(a)))},times:x,optional:da,betweenTimes:E,between:function(a,b,d){return L(D(a,d,b),S)},sepBy1:G,sepBy:function(a,b){return u(G(a,b),q)},choice:function(){return 0===arguments.length?C:Z.call(arguments,u)},token:v,anyToken:ea,character:function(a,b){return F(b||Q,a)},string:function(a,b){return Y.call(a,
f(F,b||Q)).concat(n(a)).reduce(w)}}});
