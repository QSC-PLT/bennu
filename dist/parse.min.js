("undefined"!==typeof define?define:function(q){parse=q()})(function(){function q(a,b){return v(c(a,b))}function v(a){return function(b,e,k,d,c){k=b.a;return(d=b.input)?(d=d.j(),a(d)?e(d,b.next(d)):c(new r(k,"token:'"+d+"'"))):c(new r(k,"end of input"))}}function F(a,b){return f(b,c(l,s(w(a,b))))}function T(a,b){return m(b)}function G(a,b){return 0>=a?n:H(f(b,c(l,G(a-1,b))))}function x(a,b){return 0>=a?n:f(b,c(l,x(a-1,b)))}function U(){throw Error("Many parser applied to a parser that accepts an empty string");
}function V(a,b){return f(b,c(l,a))}function H(a){return t(I(a),n)}function l(a,b){return J(a,[b])}function J(a,b){return f(a,function(a){return m(W.call(b,a))})}function t(a,b){return function(e,k,d,c,f){return i(a,[e,k,d,c,function(a){return i(b,[e,k,d,c,function(b){return f(new y(a,b))}])}])}}function w(a,b){return f(a,h(b))}function I(a){return function(b,e,k,d,c){return i(a,[b,e,c,d,c])}}function K(a){return function(b,e,c,d){return d(a(b),b)}}function L(a,b){return f(a,X.bind(b,void 0))}function f(a,
b){return function(e,c,d,f,g){return i(a,[e,function(a,e){return i(b(a),[e,c,d,c,d])},d,function(a,e){return i(b(a),[e,c,d,f,g])},g])}}function m(a){return function(b,e,c,d){return d(a,b)}}function M(a,b){return N(a,new p(b,j(1,1)))}function O(a,b){return function(e,c){for(var d=e(c,a,b,a,b);d&&d.b;)d=d[0].apply(void 0,d[1]);return d()}}function z(a){var b;return b=a(function(){return b.apply(this,arguments)})}function P(a,b){return Object.defineProperty(b,"displayName",{value:a,writable:!1})}function A(a,
b){g.call(this,a,["Expected "+(b||"")])}function r(a,b){g.call(this,a,["Unexpected "+(b||"")])}function B(a){g.call(this,a,["Error"])}function y(a,b){this.h=a;this.i=b;g.call(this,a.a)}function g(a,b){this.f=b;this.a=a}function p(a,b){this.input=a;this.a=b}function Y(){return"{line: "+this.d+" col: "+this.g+"}"}function i(a,b){var e=[a,b];e.b=!0;return e}function Q(a){return void 0===a||0===a.length?null:new u(a,0,a.length)}function u(a,b,e){this.e=a;this.c=b;this.length=e}function R(a,b){return a===
b}function S(a){return a}function c(a){return 1===arguments.length?a:a.bind.apply(a,arguments)}var W=Array.prototype.concat,Z=Array.prototype.join,$=Array.prototype.map,aa=Array.prototype.reduce,ba=Array.prototype.reduceRight,X=Function.prototype.apply,h=c(c,S);u.prototype.j=function(){return this.e[this.c]};u.prototype.l=function(){return this.c+1===this.length?null:new u(this.e,this.c+1,this.length)};var j;j=function(a,b){return Object.freeze({line:a,column:b,toString:Y})};j.k=function(a,b){return"\n"===
b?j(a.d+1,1):j(a.d,a.g+1)};p.prototype.next=function(a){return this.b||(this.b=new p(this.input.l(),j.k(this.a,a)))};g.prototype=Error();Object.defineProperties(g.prototype,{message:{get:function(){var a=this.m;return"At position:"+this.a+" ["+(a?Z.call(a,", "):"")+"]"}},messages:{get:function(){return this.f}}});y.prototype=new g;Object.defineProperty(y.prototype,"messages",{get:function(){return[this.h.n,this.i.message]}});B.prototype=new g;r.prototype=new g;A.prototype=new g;var N=O(h,function(a){return function(){throw a;
}}),ca=O(h(h(!0)),h(h(!1))),C=h(function(a,b,e,c,d){return d(new B(a.a))}),da=h(function(a,b,e,c,d){return!a.input?c(null,a):d(new A(a.a,"end of input"))}),ea=c(K,S),n=m([]),D;D=function(){return ba.call(arguments,V,n)};var s;s=function(a){function b(b,c,d,f,g){return i(a,[b,c,d,U,g])}return z(function(a){return H(f(b,c(l,a)))})};var E;E=function(a,b,e){return b<a?C:f(x(a,e),c(J,G(b-a,e)))};var fa=c(E,0,1),ga=v(h(!0));return{ParseError:g,UnknownError:B,UnexpectError:r,ExpectError:A,InputState:p,Position:j,
Parser:P,RecParser:z,NamedRecParser:function(a,b){return P(a,z(b))},runParser:N,runStream:M,run:function(a,b){return M(a,Q(b))},test:function(a,b){return ca(a,new p(Q(b),j(1,1)))},always:m,never:C,bind:f,binda:L,eof:da,extract:K,examine:ea,attempt:I,lookahead:function(a){return function(b,c,f,d,g){return i(a,[b,function(a){return d(a,b)},f,d,g])}},next:w,either:t,sequence:D,many:s,many1:function(a){return f(a,c(l,s(a)))},times:x,optional:fa,betweenTimes:E,between:function(a,b,c){return L(D(a,c,b),
T)},sepBy1:F,sepBy:function(a,b){return t(F(a,b),n)},choice:function(){return 0===arguments.length?C:aa.call(arguments,t)},token:v,anyToken:ga,character:function(a,b){return q(b||R,a)},string:function(a,b){return $.call(a,c(q,b||R)).concat(m(a)).reduce(w)}}});
