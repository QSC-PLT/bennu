define(["require","exports","nu/stream","nu/gen","parse/parse"],function(G,c,w,x,d){var m,k,g,n,p,q,r,l=w.end,y=x.repeat,h=d.always,z=d.append,e=d.bind,s=d.cons,A=d.either,B=d.enumerations,v=d.many,C=d.many1,i=d.next,f=d.optional,D=d.ParserError,t=d.rec,E=h(l),u=f.bind(null,l);m=function(){return B(y.apply(null,arguments))};k=function(a,b){return 0>=a?E:u(e(b,function(j){return s(h(j),k(a-1,b))}))};g=function(a,b){return e(a,function(a){return i(b,h(a))})};n=function(a,b){return s(b,v(i(a,b)))};var F=
f.bind(null,l);p=function(a,b){return t(function(j){return s(b,u(i(a,u(j))))})};q=function(a,b){return e(b,t(function(j){return function(c){return f(c,e(a,function(a){return e(b,function(b){return j(a(c,b))})}))}}))};r=function(a,b){return t(function(c){return e(b,function(b){return f(b,e(a,function(a){return e(c,function(c){return h(a(b,c))})}))})})};c.times=m;c.atMostTimes=k;c.betweenTimes=function(a,b,c){if(b<a)throw new D("between max < min");return z(m(a,c),k(b-a,c))};c.then=g;c.between=function(a,
b,c){return i(a,g(c,b))};c.sepBy1=n;c.sepBy=function(){return F(n.apply(null,arguments))};c.sepEndBy1=p;c.sepEndBy=function(a,b){return A(p(a,b),i(f(null,a),h(l)))};c.endBy1=function(a,b){return C(g(b,a))};c.endBy=function(a,b){return v(g(b,a))};c.chainl1=q;c.chainl=function(a,b,c){return f(b,q(a,c))};c.chainr1=r;c.chainr=function(a,b,c){return f(b,r(a,c))}});
