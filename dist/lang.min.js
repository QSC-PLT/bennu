define(["require","exports","nu/stream","parse/parse"],function(C,c,w,d){var i,g,m,n,p,q,j=w.end,k=d.always,x=d.append,e=d.bind,l=d.cons,y=d.either,t=d.many,z=d.many1,h=d.next,f=d.optional,A=d.ParserError,r=d.rec,u=k(j),s=f.bind(null,j);i=function(a,b){return 0>=a?u:l(b,i(a-1,b))};var v=function(a,b){return 0>=a?u:s(l(b,v(a-1,b)))};g=function(a,b){return e(a,function(a){return h(b,k(a))})};m=function(a,b){return l(b,t(h(a,b)))};var B=f.bind(null,j);n=function(a,b){return r(function(c){return l(b,
s(h(a,s(c))))})};p=function(a,b){return e(b,r(function(c){return function(d){return f(d,e(a,function(a){return e(b,function(b){return c(a(d,b))})}))}}))};q=function(a,b){return r(function(c){return e(b,function(b){return f(b,e(a,function(a){return e(c,function(c){return k(a(b,c))})}))})})};c.times=i;c.betweenTimes=function(a,b,c){if(b<a)throw new A("between max < min");return x(i(a,c),v(b-a,c))};c.then=g;c.between=function(a,b,c){return h(a,g(c,b))};c.sepBy1=m;c.sepBy=function(){return B(m.apply(null,
arguments))};c.sepEndBy1=n;c.sepEndBy=function(a,b){return y(n(a,b),h(f(null,a),k(j)))};c.endBy1=function(a,b){return z(g(b,a))};c.endBy=function(a,b){return t(g(b,a))};c.chainl1=p;c.chainl=function(a,b,c){return f(b,p(a,c))};c.chainr1=q;c.chainr=function(a,b,c){return f(b,q(a,c))}});
